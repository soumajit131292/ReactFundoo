{"ast":null,"code":"import _classCallCheck from \"/home/soumajit/ReactProjectFundoo/fundoo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/soumajit/ReactProjectFundoo/fundoo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/soumajit/ReactProjectFundoo/fundoo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/soumajit/ReactProjectFundoo/fundoo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/soumajit/ReactProjectFundoo/fundoo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/soumajit/ReactProjectFundoo/fundoo/src/Components/Login.jsx\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Card, Link } from '@material-ui/core';\nimport { userLogin } from '../Controller/Usercontroller';\nimport { Snackbar, IconButton } from '@material-ui/core';\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.onChangePassword = function (event) {\n      var password = event.target.value;\n\n      _this.setState({\n        password: password\n      });\n    };\n\n    _this.onChangeEmail = function (event) {\n      var emailId = event.target.value;\n\n      _this.setState({\n        email: emailId\n      });\n    };\n\n    _this.handleSubmit = function () {\n      if (!/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/.test(_this.state.email)) {\n        _this.setState({\n          Error: true,\n          message: \"email can't be null\"\n        });\n      } else if (_this.state.password === null || _this.state.password.length < 8) {\n        _this.setState({\n          Error: true,\n          message: \"Password should be min 8\"\n        });\n      } else {\n        var userLoginDetails = {\n          \"email\": _this.state.email,\n          \"password\": _this.state.password\n        };\n        console.log(\"login\", userLoginDetails);\n        userLogin(userLoginDetails).then(function (res) {\n          console.log('data', res.data);\n          localStorage.setItem('profilePic', res.data.object.picture);\n          localStorage.setItem('name', res.data.object.firstName);\n          localStorage.setItem(\"token\", res.data.token);\n          localStorage.setItem(\"userEmail\", _this.state.email);\n          console.log(localStorage.getItem(\"userEmail\"));\n\n          _this.props.history.push('/home');\n        }).catch(function (err) {\n          //let msg = err.response.data.message;\n          //console.log(\"error\", err.response.data.message);\n          _this.setState({\n            message: 'User does not exist',\n            email: '',\n            password: ''\n          });\n        });\n      }\n    };\n\n    _this.state = {\n      email: '',\n      password: '',\n      message: '',\n      Error: false\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"loginPage\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(Snackbar, {\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        },\n        open: this.state.Error,\n        autoHideDuration: 6000,\n        onClose: this.snackBarClose,\n        message: this.state.message,\n        action: React.createElement(IconButton, {\n          onClick: this.snackBarClose,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(AppBar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h4\",\n        className: \"title\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"Fundoo Note App\"))), React.createElement(Card, {\n        className: \"loginCard\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-content\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"login-h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"Login to your Account\")), React.createElement(\"div\", {\n        className: \"display-box\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"register-email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: \"email\",\n        required: true,\n        id: \"email\",\n        label: \"email\",\n        type: \"email\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        value: this.state.email,\n        onChange: this.onChangeEmail,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"register-password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        className: \"password\",\n        required: true,\n        id: \"password\",\n        label: \"password\",\n        type: \"password\",\n        margin: \"normal\",\n        variant: \"outlined\",\n        value: this.state.password,\n        onChange: this.onChangePassword,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      })), React.createElement(\"span\", {\n        style: {\n          color: \"#b71c1c\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, this.state.message), React.createElement(\"div\", {\n        className: \"button\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: this.handleSubmit,\n        color: \"primary\",\n        variant: \"contained\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }, \"submit\"), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"register-link\",\n        href: \"/registration\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, \"Sign up\")), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Link, {\n        className: \"forgot-link\",\n        href: \"/forgotpassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, \"Forgotten password?\")))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default withRouter(Login);","map":{"version":3,"sources":["/home/soumajit/ReactProjectFundoo/fundoo/src/Components/Login.jsx"],"names":["React","Component","withRouter","TextField","AppBar","Toolbar","Typography","Button","Card","Link","userLogin","Snackbar","IconButton","Login","onChangePassword","event","password","target","value","setState","onChangeEmail","emailId","email","handleSubmit","test","state","Error","message","length","userLoginDetails","console","log","then","res","data","localStorage","setItem","object","picture","firstName","token","getItem","props","history","push","catch","err","vertical","horizontal","snackBarClose","color"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { withRouter } from 'react-router-dom';\nimport TextField from '@material-ui/core/TextField';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Card, Link } from '@material-ui/core';\nimport { userLogin } from '../Controller/Usercontroller';\nimport { Snackbar, IconButton } from '@material-ui/core';\nclass Login extends Component {\n    constructor() {\n        super();\n        this.state = {\n            email: '',\n            password: '',\n            message: '',\n            Error:false,\n        }\n    }\n    onChangePassword = (event) => {\n        var password = event.target.value;\n        this.setState({\n            password: password\n        })\n    }\n    onChangeEmail = (event) => {\n        var emailId = event.target.value;\n        this.setState({\n            email: emailId\n        })\n    }\n    handleSubmit = () => {\n        if (!/[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,3}$/.test(this.state.email)) {\n            this.setState({\n                Error:true,\n                message: \"email can't be null\"\n            })\n        }\n        else if (this.state.password === null || this.state.password.length < 8) {\n            this.setState({\nError:true,\n                message: \"Password should be min 8\"\n            })\n        }\n        else {\n            var userLoginDetails = {\n\n                \"email\": this.state.email,\n                \"password\": this.state.password,\n            }\n            console.log(\"login\", userLoginDetails)\n            userLogin(userLoginDetails).then(res => {  \n                console.log('data',res.data)  \n                localStorage.setItem('profilePic',res.data.object.picture) \n                localStorage.setItem('name',res.data.object.firstName)        \n                localStorage.setItem(\"token\", res.data.token);\n              localStorage.setItem(\"userEmail\",this.state.email);\n                console.log(localStorage.getItem(\"userEmail\"));\n                this.props.history.push('/home')\n            }).catch((err) => {\n                //let msg = err.response.data.message;\n                //console.log(\"error\", err.response.data.message);\n                this.setState({\n                    message: 'User does not exist',\n                    email: '',\n                    password: '',\n                });\n            })\n        }\n    }\n    render() {\n        return (\n            <div className='loginPage'>\n                <Snackbar anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"center\"\n                }}\n                    open={this.state.Error}\n                    autoHideDuration={6000}\n                    onClose={this.snackBarClose}\n                    message={this.state.message}\n                    action={\n                        <IconButton\n                            onClick={this.snackBarClose}>\n                        </IconButton>\n                    } />\n                <AppBar >\n                    <Toolbar>\n                        <Typography variant=\"h4\" className='title' >\n                            Fundoo Note App\n                            </Typography>\n                        {/* <Button color=\"inherit\" className=\"login-button\">LogIn</Button> */}\n                    </Toolbar>\n                </AppBar>\n                <Card className='loginCard'>\n                    <div className=\"login-content\">\n                        <div className=\"login-h2\"><h1>Login to your Account</h1></div>\n                        <div className=\"display-box\">\n                            <div className='register-email'>\n                               \n                                <TextField\n                                    className=\"email\"\n                                    required\n                                    id=\"email\"\n                                    label=\"email\"\n                                    type=\"email\"\n                                    margin=\"normal\"\n                                    variant=\"outlined\"\n                                    value={this.state.email}\n                                    onChange={this.onChangeEmail}\n                                />\n                            </div>\n                            <div className=\"register-password\">\n                                <TextField\n                                    className=\"password\"\n                                    required\n                                    id=\"password\"\n                                    label=\"password\"\n                                    type=\"password\"\n                                    margin=\"normal\"\n                                    variant=\"outlined\"\n                                    value={this.state.password}\n                                    onChange={this.onChangePassword}\n                                />\n                            </div>\n                            <span style={{color: \"#b71c1c\" }}>{this.state.message}</span>\n                            <div className=\"button\">\n                                <Button onClick={this.handleSubmit} color='primary' variant=\"contained\" >\n                                    submit\n                    </Button>\n                                {/* <div><a className=\"forgot-link\" href=\"/forgotpassword\"></a></div> */}\n                                <small><Link className=\"register-link\" href=\"/registration\">Sign up</Link></small>\n                                <small><Link className=\"forgot-link\" href=\"/forgotpassword\">Forgotten password?</Link></small>\n                            </div>\n                        </div>\n                    </div>\n                </Card>\n            </div>);\n    }\n}\nexport default withRouter(Login);"]},"metadata":{},"sourceType":"module"}